<!DOCTYPE html>
<html>
<head>
    <title>Dimona Aangifte</title>
    <style>
        .grid { display: flex; flex-wrap: wrap; gap: 10px; }
        .tile {
            border: 2px solid #ccc;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            flex: 1 1 150px;
        }
        .tile.selected { background: #4caf50; color: white; border-color: #388e3c; }
        .hidden { display: none; }
    </style>
    <script>
        function selectTile(name, value) {
            document.querySelectorAll("." + name + "-tile").forEach(t => t.classList.remove("selected"));
            document.getElementById(name + "_input").value = value;
            document.getElementById(name + "_tile_" + value).classList.add("selected");
        }
        function setToday() {
            const today = "{{ today }}";
            document.getElementById("date_input").value = today;
        }
    </script>
</head>
<body>
    <h1>Nieuwe Dimona Aangifte</h1>
    <form method="POST" action="/submit">
        <h2>Kies werknemer</h2>
        <div class="grid">
            {% for worker in workers %}
            <div class="tile worker-tile" id="worker_id_tile_{{ worker.id }}" onclick="selectTile('worker_id', '{{ worker.id }}')">
                {{ worker.name }}
            </div>
            {% endfor %}
        </div>
        <input type="hidden" name="worker_id" id="worker_id_input" required>

        <h2>Kies shift</h2>
        <div class="grid">
            <div class="tile shift-tile" id="shift_tile_lunch" onclick="selectTile('shift','lunch')">Lunch (12:00-14:00)</div>
            <div class="tile shift-tile" id="shift_tile_dinner" onclick="selectTile('shift','dinner')">Dinner (17:30-21:30)</div>
        </div>
        <input type="hidden" name="shift" id="shift_input" required>

        <h2>Kies datum</h2>
        <input type="text" name="date" id="date_input" value="{{ today }}" required>
        <button type="button" onclick="setToday()">Vandaag</button>

        <br><br>
        <button type="submit">Aangifte Verzenden</button>
    </form>
</body>
</html>
